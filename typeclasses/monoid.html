<html><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><title>Cats</title><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="Lightweight, modular, and extensible library for functional programming" /><meta name="author" content="Typelevel contributors" /><meta name="og:image" content="/cats/img/poster.png" /><meta name="og:title" content="Cats" /><meta name="og:site_name" content="Cats" /><meta name="og:url" content="http://typelevel.org/cats" /><meta name="og:type" content="website" /><meta name="og:description" content="Lightweight, modular, and extensible library for functional programming" /><meta name="twitter:image" content="/cats/img/poster.png" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="" /><link rel="icon" type="image/png" href="/cats/img/favicon.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/atom-one-light.min.css" /><link rel="stylesheet" href="/cats/css/style.css" /><link rel="stylesheet" href="/cats/css/palette.css" /><link rel="stylesheet" href="/cats/css/override.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/cats/" class="brand"><div class="brand-wrapper" style="background:url('/cats/img/sidebar_brand.png') no-repeat"><span>Cats</span></div></a></li> </li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li class="hidden-xs"><a href="https://github.com/typelevel/cats"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li class="hidden-xs"><a href="https://github.com/typelevel/cats"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('Cats Lightweight, modular, and extensible library for functional programming');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('Cats Lightweight, modular, and extensible library for functional programming');"><i class="fa fa-facebook"></i></a></li><li><a href="#" onclick="shareSiteGoogle();"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="typelevel" data-github-repo="cats"><div class="content-wrapper"><section><h1 id="monoid">Monoid</h1>

<p><code class="highlighter-rouge">Monoid</code> extends the <a href="semigroup.html"><code class="highlighter-rouge">Semigroup</code></a> type class, adding an 
<code class="highlighter-rouge">empty</code> method to semigroup’s <code class="highlighter-rouge">combine</code>. The <code class="highlighter-rouge">empty</code> method must return a 
value that when combined with any other instance of that type returns the 
other instance, i.e.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="o">(</span><span class="n">combine</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">empty</span><span class="o">)</span> <span class="o">==</span> <span class="n">combine</span><span class="o">(</span><span class="n">empty</span><span class="o">,</span> <span class="n">x</span><span class="o">)</span> <span class="o">==</span> <span class="n">x</span><span class="o">)</span>
</code></pre>
</div>

<p>For example, if we have a <code class="highlighter-rouge">Monoid[String]</code> with <code class="highlighter-rouge">combine</code> defined as string 
concatenation, then <code class="highlighter-rouge">empty = ""</code>.</p>

<p>Having an <code class="highlighter-rouge">empty</code> defined allows us to combine all the elements of some 
potentially empty collection of <code class="highlighter-rouge">T</code> for which a <code class="highlighter-rouge">Monoid[T]</code> is defined and 
return a <code class="highlighter-rouge">T</code>, rather than an <code class="highlighter-rouge">Option[T]</code> as we have a sensible default to 
fall back to.</p>

<p>First some imports.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">import</span> <span class="nn">cats._</span>
<span class="k">import</span> <span class="nn">cats.implicits._</span>
</code></pre>
</div>

<p>Examples.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="nc">Monoid</span><span class="o">[</span><span class="kt">String</span><span class="o">].</span><span class="n">empty</span>
<span class="c1">// res0: String = ""
</span>
<span class="nc">Monoid</span><span class="o">[</span><span class="kt">String</span><span class="o">].</span><span class="n">combineAll</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="s">"b"</span><span class="o">,</span> <span class="s">"c"</span><span class="o">))</span>
<span class="c1">// res1: String = abc
</span>
<span class="nc">Monoid</span><span class="o">[</span><span class="kt">String</span><span class="o">].</span><span class="n">combineAll</span><span class="o">(</span><span class="nc">List</span><span class="o">())</span>
<span class="c1">// res2: String = ""
</span></code></pre>
</div>

<p>The advantage of using these type class provided methods, rather than the 
specific ones for each type, is that we can compose monoids to allow us to 
operate on more complex types, e.g.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="nc">Monoid</span><span class="o">[</span><span class="kt">Map</span><span class="o">[</span><span class="kt">String</span>,<span class="kt">Int</span><span class="o">]].</span><span class="n">combineAll</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="nc">Map</span><span class="o">(</span><span class="s">"a"</span> <span class="o">-&gt;</span> <span class="mi">1</span><span class="o">,</span> <span class="s">"b"</span> <span class="o">-&gt;</span> <span class="mi">2</span><span class="o">),</span> <span class="nc">Map</span><span class="o">(</span><span class="s">"a"</span> <span class="o">-&gt;</span> <span class="mi">3</span><span class="o">)))</span>
<span class="c1">// res3: Map[String,Int] = Map(b -&gt; 2, a -&gt; 4)
</span>
<span class="nc">Monoid</span><span class="o">[</span><span class="kt">Map</span><span class="o">[</span><span class="kt">String</span>,<span class="kt">Int</span><span class="o">]].</span><span class="n">combineAll</span><span class="o">(</span><span class="nc">List</span><span class="o">())</span>
<span class="c1">// res4: Map[String,Int] = Map()
</span></code></pre>
</div>

<p>This is also true if we define our own instances. As an example, let’s use 
<a href="foldable.html"><code class="highlighter-rouge">Foldable</code></a>’s <code class="highlighter-rouge">foldMap</code>, which maps over values accumulating
the results, using the available <code class="highlighter-rouge">Monoid</code> for the type mapped onto.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">val</span> <span class="n">l</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">)</span>
<span class="c1">// l: List[Int] = List(1, 2, 3, 4, 5)
</span>
<span class="n">l</span><span class="o">.</span><span class="n">foldMap</span><span class="o">(</span><span class="n">identity</span><span class="o">)</span>
<span class="c1">// res5: Int = 15
</span>
<span class="n">l</span><span class="o">.</span><span class="n">foldMap</span><span class="o">(</span><span class="n">i</span> <span class="k">=&gt;</span> <span class="n">i</span><span class="o">.</span><span class="n">toString</span><span class="o">)</span>
<span class="c1">// res6: String = 12345
</span></code></pre>
</div>

<p>To use this
with a function that produces a tuple, cats also provides a <code class="highlighter-rouge">Monoid</code> for a tuple
that will be valid for any tuple where the types it contains also have a 
<code class="highlighter-rouge">Monoid</code> available, thus.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="n">l</span><span class="o">.</span><span class="n">foldMap</span><span class="o">(</span><span class="n">i</span> <span class="k">=&gt;</span> <span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">i</span><span class="o">.</span><span class="n">toString</span><span class="o">))</span> <span class="c1">// do both of the above in one pass, hurrah!
// res7: (Int, String) = (15,12345)
</span></code></pre>
</div>

<hr />

<p>N.B.
Cats defines  the <code class="highlighter-rouge">Monoid</code> type class in cats-kernel. The <a href="https://github.com/typelevel/cats/blob/master/core/src/main/scala/cats/package.scala"><code class="highlighter-rouge">cats</code> package object</a>
defines type aliases to the <code class="highlighter-rouge">Monoid</code> from cats-kernel, so that you can
<code class="highlighter-rouge">import cats.Monoid</code>. Also the <code class="highlighter-rouge">Monoid</code> instance for tuple is also <a href="https://github.com/typelevel/cats/blob/master/project/KernelBoiler.scala">implemented in cats-kernel</a>, 
cats merely provides it through <a href="https://github.com/typelevel/cats/blob/master/core/src/main/scala/cats/std/tuple.scala">inheritance</a>.</p>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/languages/scala.min.js"></script><script src="/cats/js/main.js"></script></body></html>